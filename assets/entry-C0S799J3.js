import{r as h,j as e}from"./client-ibsvyqoG.js";function v(l){const[c,a]=h.useMemo(()=>l.entries.reduce(([s,t],n)=>n.minimumStartingLevel?t[n.minimumStartingLevel]?[s,{...t,[n.minimumStartingLevel]:t[n.minimumStartingLevel].concat(n)}]:[s,{...t,[n.minimumStartingLevel]:[n]}]:[s.concat(n),t],[[],{}]),[]);return e.jsxs("div",{children:[e.jsx(o,{entries:c,shouldSort:!0}),Object.keys(a).sort((s,t)=>s-t).map(s=>e.jsxs("div",{children:[e.jsx("h3",{children:l.minusOne?`Level ${s-1}`:`Minimum Starting Level ${s}`}),e.jsx(o,{entries:a[s]??[],shouldSort:!0})]}))]})}function C(l){var t;let c=[],a=new Map,s=[];for(let n of l.entries)n.challengeRating!=null?a.has(n.challengeRating)?(t=a.get(n.challengeRating))==null||t.push(n):(c.push(n.challengeRating),a.set(n.challengeRating,[n])):s.push(n);return c.sort(function(n,u){return n-u}),e.jsxs("div",{children:[e.jsx(o,{entries:s,shouldSort:!0}),c.map(n=>e.jsxs("div",{children:[e.jsxs("h3",{children:["CR ",n]}),e.jsx(o,{entries:a.get(n)??[],shouldSort:!0})]}))]})}const R=({name:l,author:c,link:a,prereqs:s,relatedLinks:t,wikiLink:n,wikiLinks:u,note:j})=>{const d=h.useCallback(()=>n!=null?e.jsx("a",{href:n,children:" (wiki)"}):e.jsx(e.Fragment,{}),[n]),m=h.useCallback(()=>s?typeof s=="string"?s:e.jsxs("span",{children:[" ","(prereqs: ",s.map(r=>typeof r=="object"&&"link"in r?e.jsx("a",{href:r.link,children:r.title}):r).map((r,i)=>e.jsxs("span",{children:[i>0&&", ",r]},i))," "]}):e.jsx(e.Fragment,{}),[s]),g=h.useCallback(()=>t?e.jsxs("span",{children:[" ","( related links: ",t.map(({title:r,link:i,wiki:x})=>e.jsxs("span",{children:[e.jsx("a",{href:i,children:r})," ",x===void 0?e.jsx(e.Fragment,{}):e.jsx("a",{href:x,children:"(wiki)"})]})).map((r,i)=>e.jsxs("span",{children:[i>0&&", ",r]},i)),")"]}):e.jsx(e.Fragment,{}),[t]),f=h.useCallback(()=>u?e.jsxs("span",{children:[" ","(wiki: ",u.map(({title:r,link:i})=>e.jsx("a",{href:i,children:r})).map((r,i)=>e.jsxs("span",{children:[i>0&&", ",r]},i)),")"]}):e.jsx(e.Fragment,{}),[u]),p=h.useCallback(()=>j?e.jsxs("span",{children:[" (",j,")"]}):e.jsx(e.Fragment,{}),[j]);return e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:a,children:[l,", ",c]}),e.jsx(d,{}),e.jsx(m,{}),e.jsx(g,{}),e.jsx(f,{}),e.jsx(p,{})]})};function o(l){const c=h.useMemo(()=>{if(!l.shouldSort)return l.entries;const a=new Intl.Collator(new Intl.Locale("en-US"),{sensitivity:"accent"});return l.entries.sort(({name:s,author:t},{name:n,author:u})=>a.compare(s,n)||a.compare(t,u))},[l.entries,l.shouldSort]);return e.jsx("ul",{children:c.map((a,s)=>e.jsx("li",{children:e.jsx(R,{...a})},s))})}export{o as E,C as M,v as P};
