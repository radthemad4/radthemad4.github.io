import{r as u,j as e}from"./client-BALvyE9I.js";function v(l){const[c,a]=l.entries.reduce(([s,n],t)=>t.minimumStartingLevel?n[t.minimumStartingLevel]?[s,{...n,[t.minimumStartingLevel]:n[t.minimumStartingLevel].concat(t)}]:[s,{...n,[t.minimumStartingLevel]:[t]}]:[s.concat(t),n],[[],{}]);return e.jsxs("div",{children:[e.jsx(o,{entries:c,shouldSort:!0}),Object.keys(a).sort((s,n)=>s-n).map(s=>e.jsxs("div",{children:[e.jsx("h3",{children:l.minusOne?`Level ${s-1}`:`Minimum Starting Level ${s}`}),e.jsx(o,{entries:a[s]??[],shouldSort:!0})]}))]})}function C(l){let c=[],a=new Map,s=[];for(let n of l.entries)n.challengeRating!=null?a.has(n.challengeRating)?a.get(n.challengeRating)?.push(n):(c.push(n.challengeRating),a.set(n.challengeRating,[n])):s.push(n);return c.sort(function(n,t){return n-t}),e.jsxs("div",{children:[e.jsx(o,{entries:s,shouldSort:!0}),c.map(n=>e.jsxs("div",{children:[e.jsxs("h3",{children:["CR ",n]}),e.jsx(o,{entries:a.get(n)??[],shouldSort:!0})]}))]})}const R=({name:l,author:c,link:a,prereqs:s,relatedLinks:n,wikiLink:t,wikiLinks:h,note:j})=>{const d=u.useCallback(()=>t!=null?e.jsx("a",{href:t,children:" (wiki)"}):e.jsx(e.Fragment,{}),[t]),m=u.useCallback(()=>s?typeof s=="string"?s:e.jsxs("span",{children:[" ","(prereqs: ",s.map(r=>typeof r=="object"&&"link"in r?e.jsx("a",{href:r.link,children:r.title}):r).map((r,i)=>e.jsxs("span",{children:[i>0&&", ",r]},i))," "]}):e.jsx(e.Fragment,{}),[s]),g=u.useCallback(()=>n?e.jsxs("span",{children:[" ","( related links: ",n.map(({title:r,link:i,wiki:x})=>e.jsxs("span",{children:[e.jsx("a",{href:i,children:r})," ",x===void 0?e.jsx(e.Fragment,{}):e.jsx("a",{href:x,children:"(wiki)"})]})).map((r,i)=>e.jsxs("span",{children:[i>0&&", ",r]},i)),")"]}):e.jsx(e.Fragment,{}),[n]),f=u.useCallback(()=>h?e.jsxs("span",{children:[" ","(wiki: ",h.map(({title:r,link:i})=>e.jsx("a",{href:i,children:r})).map((r,i)=>e.jsxs("span",{children:[i>0&&", ",r]},i)),")"]}):e.jsx(e.Fragment,{}),[h]),p=u.useCallback(()=>j?e.jsxs("span",{children:[" (",j,")"]}):e.jsx(e.Fragment,{}),[j]);return e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:a,children:[l,", ",c]}),e.jsx(d,{}),e.jsx(m,{}),e.jsx(g,{}),e.jsx(f,{}),e.jsx(p,{})]})};function o(l){const c=u.useMemo(()=>{if(!l.shouldSort)return l.entries;const a=new Intl.Collator(new Intl.Locale("en-US"),{sensitivity:"accent"});return l.entries.sort(({name:s,author:n},{name:t,author:h})=>a.compare(s,t)||a.compare(n,h))},[l.entries,l.shouldSort]);return e.jsx("ul",{children:c.map((a,s)=>e.jsx("li",{children:e.jsx(R,{...a})},s))})}export{o as E,C as M,v as P};
